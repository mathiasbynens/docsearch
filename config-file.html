<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie-edge"><title>Config Files</title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The easiest way to add search to your documentation"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@Algolia"><meta name="twitter:creator" content="@Algolia"><meta property="og:url" content="https://community.algolia.com/docsearch"><meta property="og:title" content="Config Files"><meta property="og:description" content="The easiest way to add search to your documentation"><meta property="og:image" content="https://community.algolia.com/docsearch/assets/og_image.png"><link rel="shortcut icon" href="./favicon.ico"><link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="favicon.ico"><link href="https://fonts.googleapis.com/css?family=Hind:400,600|Poppins:700" rel="stylesheet"><link type="text/css" rel="stylesheet" href="./style.css"><link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"><link type="text/css" rel="stylesheet" href="https://unpkg.com/@glidejs/glide@3.2.3/dist/css/glide.core.min.css"><body class="hind text-telluric bg-white"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N8JP8G" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header fixed pin-t w-100 h-3 z-5 bg-white-pure"><div class="max-w-xl m-auto h-100 flex flrnw"><div class="hidden sm_flex fln flcnw flc"><a class="cursor-pointer text-0 pl-2" href="https://www.algolia.com/" target="_blank"><img class="h-1 sm_h-1x" src="assets/algolia-logo.svg" alt="Algolia"></a></div><div class="hidden sm_flex fln flrnw flc"><div class="w-1 h-1 sm_w-1x sm_h-1x text-telluric fill-current"><svg height="100%" width="100%" viewBox="0 0 18 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.8537 34.7643l15.5597-17.268L1.8537 0H0l15.5597 17.4964L0 34.7644z" fill-rule="evenodd"></path>
</svg>
</div></div><div class="hidden lg_flex custom-community-link fln flcnw flc px-0x relative"><a class="cursor-pointer text-0" href="https://community.algolia.com/" target="_blank"><img class="h-1 sm_h-1x lg_h-2" src="assets/community/community-logo.svg" alt="Algolia Community"></a><div class="custom-community-projects hidden sm_block absolute z-5 pin-t mt-3 ml-3 border border-proton rounded-auto bg-white-pure shadow-1"><div class="flex flrw pt-0x"><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/talksearch/"><div class="fln bg-blue rounded-auto w-2x h-2x"><img class="w-100" src="assets/community/talksearch-icon.svg" alt="TalkSearch"></div><div class="fla pl-1 text-solstice text-1 bold hover_text-nebula">TalkSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/jekyll-algolia/"><div class="fln bg-blue rounded-auto w-2x h-2x"><img class="w-100" src="assets/community/jekyll-icon.svg" alt="Jekyll"></div><div class="fla pl-1 text-solstice text-1 bold hover_text-nebula">Jekyll</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/instantsearch.js/"><div class="fln bg-blue rounded-auto w-2x h-2x"><img class="w-100" src="assets/community/instantsearch-icon.svg" alt="InstantSearch"></div><div class="fla pl-1 text-solstice text-1 bold hover_text-nebula">InstantSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/react-instantsearch/"><div class="fln bg-blue rounded-auto w-2x h-2x"><img class="w-100" src="assets/community/react-icon.svg" alt="React InstantSearch"></div><div class="fla pl-1 text-solstice text-1 bold hover_text-nebula">React InstantSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/vue-instantsearch/"><div class="fln bg-blue rounded-auto w-2x h-2x"><img class="w-100" src="assets/community/vue-icon.svg" alt="Vue InstantSearch"></div><div class="fla pl-1 text-solstice text-1 bold hover_text-nebula">Vue InstantSearch</div></a><a class="fln w-50 flex flrnw p-05 flc hover_no-underline" href="https://community.algolia.com/angular-instantsearch/"><div class="fln bg-blue rounded-auto w-2x h-2x flex flrnw flc"><img class="w-80" src="assets/community/angular-icon.svg" alt="Angular InstantSearch"></div><div class="fla pl-1 text-solstice text-1 bold hover_text-nebula">Angular InstantSearch</div></a><a class="fla flex flrnw p-0x flc text-2 text-solstice bold bg-moon rounded-auto py-1" href="https://discourse.algolia.com/">Community Forum</a></div></div></div><div class="hidden lg_flex fln flrnw flc"><div class="w-1 h-1 sm_w-1x sm_h-1x text-telluric fill-current"><svg height="100%" width="100%" viewBox="0 0 18 35" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.8537 34.7643l15.5597-17.268L1.8537 0H0l15.5597 17.4964L0 34.7644z" fill-rule="evenodd"></path>
</svg>
</div></div><div class="flex fln flrnw flc pl-1 sm_pl-0"><a class="cursor-pointer uppercase tracking-poppins poppins text-solstice hover_text-nebula hover_no-underline" href="./"><span class="hidden sm_block ml-0x">DocSearch</span><img class="align-text-bottom h-100 sm_hidden ml-1" src="assets/docsearch-mark.svg" width="40" alt="DocSearch logo"></a></div><div class="flex fla flrnw flrcv flrar ml-2"><div class="w-100 flrnw flex flrar"><div class="custom-search-wrapper fln h-60 w-100 rounded-auto relative"><label class="absolute pin-left z-1 w-1 h-100 ml-05 text-solstice fill-current cursor-pointer" for="docsearch"><svg height="100%" viewBox="0 0 15 15" width="100%" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.052 10.88c-1.1.91-2.483 1.406-3.91 1.403C2.75 12.283 0 9.533 0 6.14 0 2.75 2.75 0 6.142 0c3.392 0 6.14 2.75 6.14 6.142 0 1.485-.526 2.847-1.403 3.91l3.95 3.95c.227.227.228.596-.002.826-.228.227-.597.228-.826 0l-3.95-3.95zm-3.91.234c2.745 0 4.972-2.227 4.972-4.972 0-2.747-2.227-4.972-4.972-4.972-2.747 0-4.972 2.225-4.972 4.972 0 2.745 2.225 4.972 4.972 4.972z" fill-rule="evenodd"></path>
</svg>
</label><input class="custom-search-input w-100 h-2x leading-h-2x outline-none text-solstice pl-2 rounded-auto bg-moon focus_bg-moon--1" id="docsearch" placeholder="Search the docs..."></div></div></div><div class="hidden md_flex justify-start items-center mx-1"><a class="h-1x w-1x text-solstice fill-current items-center hover_text-grey-darker mr-1" href="https://github.com/algolia/docsearch" target="_blank"><svg viewBox="0 0 40 39" xmlns="http://www.w3.org/2000/svg">
  <path d="M19.998 0C8.955 0 0 8.954 0 20c0 8.837 5.73 16.333 13.678 18.977 1 .184 1.365-.433 1.365-.964 0-.475-.017-1.732-.027-3.4C9.453 35.82 8.28 31.93 8.28 31.93c-.91-2.31-2.222-2.925-2.222-2.925-1.816-1.24.137-1.215.137-1.215 2.008.14 3.064 2.06 3.064 2.06 1.783 3.057 4.68 2.174 5.82 1.662.18-1.29.698-2.173 1.27-2.673-4.442-.505-9.11-2.222-9.11-9.885 0-2.183.78-3.97 2.058-5.367-.206-.506-.893-2.54.196-5.293 0 0 1.68-.538 5.5 2.05A19.156 19.156 0 0 1 20 9.67c1.7.01 3.41.23 5.008.675 3.818-2.588 5.494-2.05 5.494-2.05 1.09 2.753.405 4.787.2 5.293 1.282 1.397 2.055 3.184 2.055 5.367 0 7.683-4.676 9.374-9.13 9.868.716.618 1.356 1.838 1.356 3.703 0 2.675-.025 4.832-.025 5.487 0 .536.36 1.158 1.376.963C34.274 36.326 40 28.836 40 20 40 8.955 31.045 0 19.998 0" />
</svg>
</a></div><div class="md_hidden flex justify-start items-center mx-2"><button class="custom-toggle-nav text-solstice items-center hover_text-grey-darker focus_outline-none"><svg class="align-text-bottom navigation-open h-1x w-1x fill-current" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg><svg class="align-text-bottom navigation-close hidden h-1x w-1x fill-current" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"></path></svg></button></div></div></div><div class="mt-3"><div class="bgtb-moon-white-pure relative"><div class="md_flex max-w-lg m-auto"><div class="navigation-sidebar sticky pin-t top-3 h-100vh-3 overflow-y-auto hidden md_block bg-white pl-1"><!-- Adding subsections from markdown--><div class="pt-2 w-5 m-auto sm_flex sm_w-90 md_block md_w-100"><div class="flcnw flspa sm_flex-auto sm_w-33 sm_p-1 md_w-100 md_p-0"><div class="category text-nebula poppins uppercase mb-05x text-1x">Getting Started</div><ul class="list-reset mb-2"><li><a class="block py-0x text-solstice" href="what-is-docsearch.html">What is DocSearch?</a></li><li><a class="block py-0x text-solstice" href="how-does-it-work.html">How Does It Work?</a></li><li><a class="block py-0x text-solstice" href="who-can-apply.html">Who Can Apply?</a></li><li><a class="block py-0x text-solstice" href="apply.html">Apply Now!</a></li></ul></div><div class="flcnw flspa sm_flex-auto sm_w-33 sm_p-1 md_w-100 md_p-0"><div class="category text-nebula poppins uppercase mb-05x text-1x">Adding DocSearch To Your UI</div><ul class="list-reset mb-2"><li><a class="block py-0x text-solstice" href="dropdown.html">Dropdown UI Overview</a></li><li><a class="block py-0x text-solstice" href="styling.html">Styling</a></li><li><a class="block py-0x text-solstice" href="behavior.html">Behavior</a></li></ul></div><div class="flcnw flspa sm_flex-auto sm_w-33 sm_p-1 md_w-100 md_p-0"><div class="category text-nebula poppins uppercase mb-05x text-1x">Tips, FAQ, Misc</div><ul class="list-reset mb-2"><li><a class="block py-0x text-solstice" href="recommended-configuration.html">Recommended configuration</a></li><li><a class="block py-0x text-solstice" href="tips.html">Tips</a></li><li><a class="block py-0x text-solstice" href="faq.html">FAQ</a></li><li><a class="block py-0x text-solstice" href="integrations.html">Website Generators</a></li></ul></div><div class="flcnw flspa sm_flex-auto sm_w-33 sm_p-1 md_w-100 md_p-0"><div class="category text-nebula poppins uppercase mb-05x text-1x">Let’s Get Technical</div><ul class="list-reset mb-2"><li><a class="block py-0x text-solstice" href="crawler-overview.html">DocSearch Technical Overview (the Crawler)</a></li><li><a class="block py-0x text-solstice" href="inside-the-engine.html">Inside The Engine</a></li><li><a class="block py-0x current-page text-nebula" href="config-file.html">Config Files</a><ul class="list-reset pl-1 text-1"><li><a class="block py-0x text-telluric" href="config-file.html#index_name">index_name </a></li><li><a class="block py-0x text-telluric" href="config-file.html#start_urls">start_urls </a></li><li><a class="block py-0x text-telluric" href="config-file.html#selectors">selectors </a></li><li><a class="block py-0x text-telluric" href="config-file.html#other-options">Other options </a></li><li><a class="block py-0x text-telluric" href="config-file.html#sitemaps">Sitemaps </a></li><li><a class="block py-0x text-telluric" href="config-file.html#javascript-rendering">JavaScript rendering </a></li></ul></li><li><a class="block py-0x text-solstice" href="css-helper.html">CSS Helper</a></li><li><a class="block py-0x text-solstice" href="how-do-we-build-an-index.html">Build An Index</a></li><li><a class="block py-0x text-solstice" href="run-your-own.html">Run Your Own</a></li></ul></div></div></div><div class="documentation-content text-2 pt-2 pb-1 px-2 w_100 md_w-75"><div class="md_hidden mb-1"><a href="https://community.algolia.com/docsearch">DocSearch</a><span>&nbsp;>&nbsp;</span><a href="https://community.algolia.com/docsearch/what-is-docsearch.html">Documentation</a></div><h1 class="custom-main-title text-5 lg_text-7 uppercase tracking-poppins text-solstice bold mb-2">Config Files</h1><p>For each DocSearch request we receive, we'll create a custom JSON config file
that will define how the crawler should behave. You can find all the configs in
<a href="https://github.com/algolia/docsearch-configs/tree/master/configs">this repository</a>.</p>
<p>A DocSearch looks like this:</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"index_name"</span>: <span class="hljs-string">"example"</span>,
  <span class="hljs-attr">"start_urls"</span>: [<span class="hljs-string">"https://www.example.com/docs"</span>],
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">"#content header h1"</span>,
    <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">"#content article h1"</span>,
    <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">"#content section h3"</span>,
    <span class="hljs-attr">"lvl3"</span>: <span class="hljs-string">"#content section h4"</span>,
    <span class="hljs-attr">"lvl4"</span>: <span class="hljs-string">"#content section h5"</span>,
    <span class="hljs-attr">"lvl5"</span>: <span class="hljs-string">"#content section h6"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"#content header p,#content section p,#content section ol"</span>
  }
}
</code></pre>
<h2 id="index_name"><code>index_name</code> <a class="anchor" href="#index_name" aria-hidden="true"></a></h2>
<p>This is the name of the Algolia index where your records will be pushed. The
<code>apiKey</code> we will share with you will be restricted to work on this index.</p>
<p>When using the free DocSearch crawler, the <code>indexName</code> will always be the name
of the config. If you're running DocSearch yourself, you can use any name you'd
like.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"index_name"</span>: <span class="hljs-string">"example"</span>
}
</code></pre>
<h2 id="start_urls"><code>start_urls</code> <a class="anchor" href="#start_urls" aria-hidden="true"></a></h2>
<p>This array contains the list of URLs that will be used to start crawling your
website. The crawler will recursively follow any links on those pages. It will
not follow links that are on another domain and never follow links defined in
<code>stop_urls</code>.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [<span class="hljs-string">"https://www.example.com/docs"</span>]
}
</code></pre>
<h3 id="selectors_key%2C-tailor-your-selectors"><code>selectors_key</code>, tailor your selectors <a class="anchor" href="#selectors_key%2C-tailor-your-selectors" aria-hidden="true"></a></h3>
<p>You can define finer sets of selectors depending on the URL. This is done thanks
to the parameter <code>selectors_key</code> from your <code>start_urls</code> item.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/faq/"</span>,
      <span class="hljs-attr">"selectors_key"</span>: <span class="hljs-string">"faq"</span>
    },
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/"</span>
    }
  ],
  […],
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"default"</span>: {
      <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">".docs h1"</span>,
      <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">".docs h2"</span>,
      <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">".docs h3"</span>,
      <span class="hljs-attr">"lvl3"</span>: <span class="hljs-string">".docs h4"</span>,
      <span class="hljs-attr">"lvl4"</span>: <span class="hljs-string">".docs h5"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">".docs p, .docs li"</span>
    },
    <span class="hljs-attr">"faq"</span>: {
      <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">".faq h1"</span>,
      <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">".faq h2"</span>,
      <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">".faq h3"</span>,
      <span class="hljs-attr">"lvl3"</span>: <span class="hljs-string">".faq h4"</span>,
      <span class="hljs-attr">"lvl4"</span>: <span class="hljs-string">".faq h5"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">".faq p, .faq li"</span>
    }
  }
}
</code></pre>
<p>To find the right subset to use based on the URL, we iterate over these
<code>start_urls</code> items. The first one matching is applied.</p>
<p>Considering the URL <code>http://www.example.com/en/api/</code> with the configuration:</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/doc/"</span>,
      <span class="hljs-attr">"selectors_key"</span>: <span class="hljs-string">"doc"</span>
    },
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/doc/faq/"</span>,
      <span class="hljs-attr">"selectors_key"</span>: <span class="hljs-string">"faq"</span>
    },
   […],
  ]
}
</code></pre>
<p>Only the set of selector related to <code>doc</code> will be applied to the URL. The
correct configuration should be build the other way around (as primarily
described).</p>
<p>If one <code>start_urls</code> item has no <code>selectors_key</code> defined, the <code>default</code> set will
be used. Do not forget to precise this fallback.</p>
<h3 id="using-regular-expressions">Using regular expressions <a class="anchor" href="#using-regular-expressions" aria-hidden="true"></a></h3>
<p>The <code>start_urls</code> option also allows for passing an object in place of a string,
to express more complex patterns. This object must contain a <code>url</code> key
containing the regular expression matching the url, as well as a <code>variables</code> key
that will be used to replace the named matches.</p>
<p>The following example will make it clearer:</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/(?P&lt;lang&gt;.*?)/(?P&lt;version&gt;.*?)/"</span>,
      <span class="hljs-attr">"variables"</span>: {
        <span class="hljs-attr">"lang"</span>: [<span class="hljs-string">"en"</span>, <span class="hljs-string">"fr"</span>],
        <span class="hljs-attr">"version"</span>: [<span class="hljs-string">"latest"</span>, <span class="hljs-string">"3.3"</span>, <span class="hljs-string">"3.2"</span>]
      }
    }
  ]
}
</code></pre>
<p>The beneficial side effect of using this syntax is that all records that will
then be extracted from crawling <code>http://www.example.com/docs/en/latest</code> will
have <code>lang: en</code> and <code>version: latest</code> added to it, allowing you to then filter
based on those values.</p>
<p>The following example shows how you can filter results matching specifics
language and version from the frontend</p>
<pre><code class="hljs language-js">docsearch({
  […],
  <span class="hljs-attr">algoliaOptions</span>: {
    <span class="hljs-string">'facetFilters'</span>: [<span class="hljs-string">"lang:en"</span>, <span class="hljs-string">"version:latest"</span>]
  },
  […],
});
</code></pre>
<h3 id="using-custom-tags">Using custom tags <a class="anchor" href="#using-custom-tags" aria-hidden="true"></a></h3>
<p>You can also apply custom tags to some pages without the need to use regular
expressions. In that case, add the list of tags to the <code>tags</code> key. Note that
those tags will be automatically added as facets in Algolia, allowing you to
filter based on their values as well.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/concepts/"</span>,
      <span class="hljs-attr">"tags"</span>: [<span class="hljs-string">"concepts"</span>, <span class="hljs-string">"terminology"</span>]
    }
  ]
}
</code></pre>
<p>From your JS snippet:</p>
<pre><code class="hljs language-js">docsearch({
  […],
  <span class="hljs-attr">algoliaOptions</span>: {
    <span class="hljs-string">'facetFilters'</span>: [<span class="hljs-string">"tags:concepts"</span>]
  },
});
</code></pre>
<h3 id="using-page-rank">Using Page Rank <a class="anchor" href="#using-page-rank" aria-hidden="true"></a></h3>
<p>To give more weight to some pages to boost their ranking in the results, you can
attribute a custom <code>page_rank</code> to specific URLs. Pages with highest <code>page_rank</code>
will be returned before pages with a lower <code>page_rank</code>. Note that you can pass
any numeric value, including negative values.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/concepts/"</span>,
      <span class="hljs-attr">"page_rank"</span>: <span class="hljs-number">5</span>
    },
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/contributors/"</span>,
      <span class="hljs-attr">"page_rank"</span>: <span class="hljs-number">1</span>
    }
  ]
}
</code></pre>
<p>In this example, results extracted from the <em>Concepts</em> page will be ranked
higher than results extracted from the <em>Contributors</em> page.</p>
<h3 id="using-custom-selectors-per-page">Using custom selectors per page <a class="anchor" href="#using-custom-selectors-per-page" aria-hidden="true"></a></h3>
<p>If the markup of your website is so different from one page to another that you
can't have generic selectors, you can namespace your selectors and specify which
set of selectors should be applied to specific pages.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"start_urls"</span>: [
    <span class="hljs-string">"http://www.example.com/docs/"</span>,
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/concepts/"</span>,
       <span class="hljs-attr">"selectors_key"</span>: <span class="hljs-string">"concepts"</span>
    },
    {
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://www.example.com/docs/contributors/"</span>,
       <span class="hljs-attr">"selectors_key"</span>: <span class="hljs-string">"contributors"</span>
    }
  ]
   <span class="hljs-string">"selectors"</span>: {
     <span class="hljs-attr">"default"</span>: {
       <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">".main h1"</span>,
       <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">".main h2"</span>,
       <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">".main h3"</span>,
       <span class="hljs-attr">"lvl3"</span>: <span class="hljs-string">".main h4"</span>,
       <span class="hljs-attr">"lvl4"</span>: <span class="hljs-string">".main h5"</span>,
       <span class="hljs-attr">"text"</span>: <span class="hljs-string">".main p"</span>
      },
     <span class="hljs-attr">"concepts"</span>: {
       <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">".header h2"</span>,
       <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">".main h1.title"</span>,
       <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">".main h2.title"</span>,
       <span class="hljs-attr">"lvl3"</span>: <span class="hljs-string">".main h3.title"</span>,
       <span class="hljs-attr">"lvl4"</span>: <span class="hljs-string">".main h5.title"</span>,
       <span class="hljs-attr">"text"</span>: <span class="hljs-string">".main p"</span>
     },
     <span class="hljs-attr">"contributors"</span>: {
       <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">".main h1"</span>,
       <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">".contributors .name"</span>,
       <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">".contributors .title"</span>,
       <span class="hljs-attr">"text"</span>: <span class="hljs-string">".contributors .description"</span>
     }
   }
}
</code></pre>
<p>Here, all documentation pages will use the selectors defined in
<code>selectors.default</code> while the page under <code>./concepts</code> will use
<code>selectors.concepts</code> and those under <code>./contributors</code> will use
<code>selectors.contributors</code>.</p>
<h2 id="selectors"><code>selectors</code> <a class="anchor" href="#selectors" aria-hidden="true"></a></h2>
<p>This object contains all the CSS selectors that will be used to create the
record hierarchy. It can contain up to 6 levels (<code>lvl0</code>, <code>lvl1</code>, <code>lvl2</code>, <code>lvl3</code>,
<code>lvl4</code>, <code>lvl5</code>) and <code>text</code>.</p>
<p>A default config would be to target the page <code>title</code> or <code>h1</code> as <code>lvl0</code>, the <code>h2</code>
as <code>lvl1</code>, <code>h3</code> as <code>lvl2</code>, and <code>p</code> as <code>text</code>, but this is highly dependent on
the markup.</p>
<p>The <code>text</code> key is mandatory, but we highly recommend setting also <code>lvl0</code>, <code>lvl1</code>
and <code>lvl2</code> to have a decent level of relevance.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: <span class="hljs-string">"#content header h1"</span>,
    <span class="hljs-attr">"lvl1"</span>: <span class="hljs-string">"#content article h1"</span>,
    <span class="hljs-attr">"lvl2"</span>: <span class="hljs-string">"#content section h3"</span>,
    <span class="hljs-attr">"lvl3"</span>: <span class="hljs-string">"#content section h4"</span>,
    <span class="hljs-attr">"lvl4"</span>: <span class="hljs-string">"#content section h5"</span>,
    <span class="hljs-attr">"lvl5"</span>: <span class="hljs-string">"#content section h6"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"#content header p,#content section p,#content section ol"</span>
  }
}
</code></pre>
<p>Selectors can be passed as string, or as objects containing a <code>selector</code> key.
Other special keys can be set, as documented below.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: {
      <span class="hljs-attr">"selector"</span>: <span class="hljs-string">"#content header h1"</span>
    }
  }
}
</code></pre>
<h3 id="using-global-selectors">Using global selectors <a class="anchor" href="#using-global-selectors" aria-hidden="true"></a></h3>
<p>The default way of extracting content through selectors is to read the HTML
markup from top to bottom. This works well with semi-structured content, like a
hierarchy of headers. This breaks when the relevant information is not part of
the same flow. For example when the title is not part of a header or sidebar.</p>
<p>For that reason, you can set a selector as global, meaning that it will match on
the whole page, and will be the same for all records extracted on this page.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: {
      <span class="hljs-attr">"selector"</span>: <span class="hljs-string">"#content header h1"</span>,
      <span class="hljs-attr">"global"</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre>
<h3 id="setting-a-default-value">Setting a default value <a class="anchor" href="#setting-a-default-value" aria-hidden="true"></a></h3>
<p>If your selector might not match a valid element on the page, you can define a
<code>default_value</code> to fallback to.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: {
      <span class="hljs-attr">"selector"</span>: <span class="hljs-string">"#content header h1"</span>,
      <span class="hljs-attr">"default_value"</span>: <span class="hljs-string">"Documentation"</span>
    }
  }
}
</code></pre>
<h3 id="removing-unnecessary-characters">Removing unnecessary characters <a class="anchor" href="#removing-unnecessary-characters" aria-hidden="true"></a></h3>
<p>Some documentation adds special characters to headings, like <code>#</code> or <code>›</code>. Those
characters have a stylistic value but no meaning and shouldn't be indexed in the
search results.</p>
<p>You can define a list of characters you want to exclude from the final indexed
value by setting the <code>strip_chars</code> key.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: {
      <span class="hljs-attr">"selector"</span>: <span class="hljs-string">"#content header h1"</span>,
      <span class="hljs-attr">"strip_chars"</span>: <span class="hljs-string">"#›"</span>
    }
  }
}
</code></pre>
<p>Note that you can also define <code>strip_chars</code> directly at the root of the config
and it will be applied to all selectors.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"strip_chars"</span>: <span class="hljs-string">"#›"</span>
}
</code></pre>
<h3 id="targeting-elements-using-xpath-instead-of-css">Targeting elements using XPath instead of CSS <a class="anchor" href="#targeting-elements-using-xpath-instead-of-css" aria-hidden="true"></a></h3>
<p>CSS selectors are a clear and concise way to target elements of a page, but they
have a limitations. For example, you cannot go <em>up</em> the cascade with CSS.</p>
<p>If you need a more powerful selector mechanism, you can write your selectors
using XPath by setting <code>type: xpath</code>.</p>
<p>The following example will look for a <code>li.chapter.active.done</code> and then go up
two levels in the DOM until it finds a <code>a</code>. The content of this <code>a</code> will then be
used as the value of the <code>lvl0</code> selector.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors"</span>: {
    <span class="hljs-attr">"lvl0"</span>: {
      <span class="hljs-attr">"selector"</span>: <span class="hljs-string">"//li[@class=\"chapter active done\"]/../../a"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"xpath"</span>,
      <span class="hljs-attr">"global"</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre>
<p>XPath selector can be hard to read. We highly encourage you to test them in your
browser first, making sure they match what you're expecting.</p>
<h2 id="other-options">Other options <a class="anchor" href="#other-options" aria-hidden="true"></a></h2>
<h3 id="custom_settings-optional"><code>custom_settings</code> <em>Optional</em> <a class="anchor" href="#custom_settings-optional" aria-hidden="true"></a></h3>
<p>This key can be used to overwrite your Algolia index settings. We don't
recommend changing it as the default settings are meant to work for all
websites.</p>
<p>One use case would be to configure the <code>separatorsToIndex</code> setting. By default
Algolia will consider all special character as a word separator. In some
contexts, like for method names, you might want <code>_</code>, <code>/</code> or <code>#</code> to keep their
meaning.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"custom_settings"</span>: {
    <span class="hljs-attr">"separatorsToIndex"</span>: <span class="hljs-string">"_/"</span>
  }
}
</code></pre>
<p>Check the <a href="https://www.algolia.com/doc/api-reference/settings-api-parameters/">Algolia documentation</a> for more information on the settings.</p>
<h3 id="min_indexed_level-optional"><code>min_indexed_level</code> <em>Optional</em> <a class="anchor" href="#min_indexed_level-optional" aria-hidden="true"></a></h3>
<p>The default value is <code>0</code>. By increasing it, you can chose to not index some
records if they don't have enough <code>lvlX</code> matching. For example, with a
<code>min_indexed_level: 2</code>, records that have at least <code>lvl0</code>, <code>lvl1</code> and <code>lvl2</code>
matching something will be indexed.</p>
<p>This is useful when your documentation has pages that share the same <code>lvl0</code> and
<code>lvl1</code> for example. In that case, you don't want to index all the shared
records, but want to keep the content different across pages.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"min_indexed_level"</span>: <span class="hljs-number">2</span>
}
</code></pre>
<h3 id="nb_hits-special"><code>nb_hits</code> <em>Special</em> <a class="anchor" href="#nb_hits-special" aria-hidden="true"></a></h3>
<p><code>nb_hits</code> automatically updated by DocSearch every time it runs your config. It
is set to the number of records that were extracted and indexed. We check this
key internally to keep track of any unintended spike or drop that could reveal a
misconfiguration.</p>
<p>You don't have to touch it, we're documenting it here in case you were wondering
what this was about.</p>
<h3 id="only_content_level-optional"><code>only_content_level</code> <em>Optional</em> <a class="anchor" href="#only_content_level-optional" aria-hidden="true"></a></h3>
<p>When <code>only_content_level</code> is set to <code>true</code>, then the crawler won't create
records for the <code>lvlX</code> selectors.</p>
<p>If used, <code>min_indexed_level</code> is ignored.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"only_content_level"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h3 id="scrape_start_urls-optional"><code>scrape_start_urls</code> <em>Optional</em> <a class="anchor" href="#scrape_start_urls-optional" aria-hidden="true"></a></h3>
<p>By default, the crawler will extract content from the pages defined in
<code>start_urls</code>. If you do not have any valuable content on your <code>starts_urls</code> or
if it's a duplicate of another page, you should set this to <code>false</code>.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"scrape_start_urls"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3 id="selectors_exclude-optional"><code>selectors_exclude</code> <em>Optional</em> <a class="anchor" href="#selectors_exclude-optional" aria-hidden="true"></a></h3>
<p>This expects an array of CSS selectors. Any element matching one of those
selectors will be removed from the page before any data is extracted from it.</p>
<p>This can be used to remove a table of content, a sidebar, or a footer, to make
other selectors easier to write.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"selectors_exclude"</span>: [<span class="hljs-string">".footer"</span>, <span class="hljs-string">"ul.deprecated"</span>]
}
</code></pre>
<h3 id="stop_urls-optional"><code>stop_urls</code> <em>Optional</em> <a class="anchor" href="#stop_urls-optional" aria-hidden="true"></a></h3>
<p>This is an array of strings or regular expressions. Whenever the crawler is
about to visit a link, it will first check if the link matches something in the
array. If it does, it will not follow the link. This should be used to restrict
pages the crawler should visit.</p>
<p>Note that this is often used to avoid duplicate content, by adding
<code>http://www.example.com/docs/index.html</code> if you already have
<code>http://www.example.com/docs/</code> as a <code>start_urls</code>.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"stop_urls"</span>: [<span class="hljs-string">"https://www.example.com/docs/index.html"</span>, <span class="hljs-string">"license.html"</span>]
}
</code></pre>
<h2 id="sitemaps">Sitemaps <a class="anchor" href="#sitemaps" aria-hidden="true"></a></h2>
<p>If your website has a <code>sitemap.xml</code> file, you can let DocSearch know and it will
use it to define which pages to crawl.</p>
<h3 id="sitemap_urls-optional"><code>sitemap_urls</code> <em>Optional</em> <a class="anchor" href="#sitemap_urls-optional" aria-hidden="true"></a></h3>
<p>You can pass an array of URLs pointing to your sitemap(s) files. If this value
is set, DocSearch will try to read URLs from your sitemap(s) instead of
following every link of your <code>starts_urls</code>.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"sitemap_urls"</span>: [<span class="hljs-string">"http://www.example.com/docs/sitemap.xml"</span>]
}
</code></pre>
<h3 id="sitemap_alternate_links-optional"><code>sitemap_alternate_links</code> <em>Optional</em> <a class="anchor" href="#sitemap_alternate_links-optional" aria-hidden="true"></a></h3>
<p>Sitemaps can contain <em>alternative links</em> for URLs. Those are other versions of
the same page, in a different language, or with a different URL. By default
DocSearch will ignore those URLs.</p>
<p>Set this to <code>true</code> if you want those other versions to be crawled as well.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"sitemap_urls"</span>: [<span class="hljs-string">"http://www.example.com/docs/sitemap.xml"</span>],
  <span class="hljs-attr">"sitemap_alternate_links"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>With the above config and the <code>sitemap.xml</code> below, both
<code>http://www.example.com/docs/</code> and <code>http://www.example.com/docs/de/</code> will be
crawled.</p>
<pre><code class="hljs language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">loc</span>&gt;</span>http://www.example.com/docs/<span class="hljs-tag">&lt;/<span class="hljs-name">loc</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xhtml:link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"alternate"</span> <span class="hljs-attr">hreflang</span>=<span class="hljs-string">"de"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"http://www.example.com/de/"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
</code></pre>
<h2 id="javascript-rendering">JavaScript rendering <a class="anchor" href="#javascript-rendering" aria-hidden="true"></a></h2>
<p>By default DocSearch expects websites to have server-side rendering, meaning
that HTML source is returned directly by the server. If your content is
generated by the front-end, you have to tell DocSearch to emulate a browser
through Selenium.</p>
<p><em>As client-side crawling is way slower than server-side crawling, we highly
encourage you to update your website to enable server-side rendering.</em></p>
<h3 id="js_render-optional"><code>js_render</code> <em>Optional</em> <a class="anchor" href="#js_render-optional" aria-hidden="true"></a></h3>
<p>Set this value to true if your website requires client-side rendering. This will
make DocSearch spawn a Selenium proxy to fetch all your web pages.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"js_render"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h3 id="js_wait-optional"><code>js_wait</code> <em>Optional</em> <a class="anchor" href="#js_wait-optional" aria-hidden="true"></a></h3>
<p>If your website is slow to load, you can use <code>js_wait</code> to tell DocSearch to wait
a specific amount of time (in seconds) for the page to load before extracting
its content.</p>
<p>Note that this option might have a large impact on the time required to crawl
your website and we would encourage you to enable server-side rendering on your
website instead.</p>
<p>This option has no impact if <code>js_render</code> is set to <code>false</code>.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"js_render"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"js_wait"</span>: <span class="hljs-number">2</span>
}
</code></pre>
<h3 id="use_anchors-optional"><code>use_anchors</code> <em>Optional</em> <a class="anchor" href="#use_anchors-optional" aria-hidden="true"></a></h3>
<p>Websites using client-side rendering often don't use full urls, but instead take
advantage of the URL hash (the part after the <code>#</code>).</p>
<p>If your website is using such urls, you should set <code>use_anchors</code> to <code>true</code> for
DocSearch to index all your content.</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"js_render"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"use_anchors"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h3 id="user_agent-optional"><code>user_agent</code> <em>Optional</em> <a class="anchor" href="#user_agent-optional" aria-hidden="true"></a></h3>
<p>You can override the user agent used to crawl your website. By default, this
value is:
<code>'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36'</code></p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"user_agent"</span>: <span class="hljs-string">"Googlebot"</span>
}
</code></pre>
<!-- Include the apply form--><div class="my-3 italic"><a href="https://github.com/algolia/docsearch/tree/master/docs/src/config-file.md">Edit this page</a></div></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script src="js/main.js"></script><script src="js/docs.js"></script></body><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-N8JP8G');</script></head></html>